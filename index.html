<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Portfolio</title>
	<link href="css/reset.css" rel="stylesheet">
	<link href="css/library/swiper.css" rel="stylesheet">
</head>
<body class="light-version">
<style>
	

</style>


<div class="snow" style="position: fixed; top:0; left: 0; z-index: 100; width: 100%; height: 100%; pointer-events: none;"></div>

<div class="iv_swiper" data-ivswipe-custom="false"
	data-ivswipe-name="mainVisual" data-ivswipe-module="scrollbar" data-ivswipe-effect="fade" data-ivswipe-speed="1000">

	<!-- This is a recreation of the SVG animation that can be found on Wokine.com -->
	<div class="hello-parent yep_section">

		<svg class="hello-word" width="365" height="365" viewBox="0 0 365 365">
			<g id="H-letter">
				<line class="H-left-stroke" x1="17" y1="0" x2="17" y2="124" stroke="#fff" fill="none" stroke-width="34" />
				<line class="H-mid-stroke" x1="33" y1="62" x2="68" y2="62" stroke="#fff" fill="none" stroke-width="34" />
				<line class="H-right-stroke" x1="84" y1="0" x2="84" y2="124" stroke="#fff" fill="none" stroke-width="34" />
			</g>
			<g id="E-letter">
				<line class="E-left-stroke" x1="138" y1="0" x2="138" y2="124" stroke="#fff" fill="none" stroke-width="34" />
				<line class="E-top-stroke" x1="154" y1="17" x2="201" y2="17" stroke="#fff" fill="none" stroke-width="34" />
				<line class="E-mid-stroke" x1="154" y1="62" x2="196" y2="62" stroke="#fff" fill="none" stroke-width="34" />
				<line class="E-bottom-stroke" x1="154" y1="107" x2="201" y2="107" stroke="#fff" fill="none"
					stroke-width="34" />
			</g>
			<g id="L-one-letter">
				<line class="L-one-long-stroke" x1="17" y1="153" x2="17" y2="277" stroke="#fff" fill="none"
					stroke-width="34" />
				<line class="L-one-short-stroke" x1="33" y1="260" x2="77" y2="260" stroke="#fff" fill="none"
					stroke-width="34" />
			</g>
			<g id="L-two-letter">
				<line class="L-two-long-stroke" x1="104" y1="153" x2="104" y2="277" stroke="#fff" fill="none"
					stroke-width="34" />
				<line class="L-two-short-stroke" x1="120" y1="260" x2="164" y2="260" stroke="#fff" fill="none"
					stroke-width="34" />
			</g>
			<g id="O-letter">
				<circle class="O-stroke" cx="231" cy="215" r="48" stroke="#fff" fill="none" stroke-width="31" />
			</g>
			<g id="red-dot">
				<!-- Initially I tried creating a circle but it was harder to manipulate it how I wanted to in CSS so I resorted to using a line trick to make it look like a circle ....
			<circle class="red-dot" cx="325" cy="260" r="20" fill="#FF5851" stroke="none" />
			-->
				<line x1="325" y1="260" x2="325" y2="260" stroke="#149950" class="red-dot" />
			</g>
		</svg>
		<p class="push_text">오른쪽으로 밀어서 내용보기 →</p>
	</div>

	<div class="yep_section canvas_section">
		<canvas id="canvas"></canvas>
		<div class="letter_container">
			<div class="letter_wrapper">
				<div class="letter_box">
					<div class="container">
						<div class="globe ">
							<div class="stars"></div>
							<div class="moon"></div>
							<div class="trees"></div>
							<div class="xmas-tree"></div>
							<div class="house">
								<div class="roof">
									<div class="chimney-shadow"></div>
									<div class="chimney"></div>
									<svg class="chimney-smoke" width="167px" height="120px" viewBox="0 0 167 126">
										<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
											<path class="smoke-line"
												d="M96,120.01193 C94.4048061,108.450138 93.7381394,100.988465 94,97.6269104 C94.8108865,87.2174052 96.6547999,82.442437 101,78.9355263 C110.8992,70.94611 126.181323,67.2687495 133,64.5154233 C137.666667,62.6310613 145.666667,60.6460727 157,58.5604574"
												id="Line-4" stroke-width="3" opacity="0.75" stroke-linecap="round"></path>
											<path
												d="M1.42108547e-14,14.1447128 C17.1627454,6.49685414 37.2619924,2.08774841 60.297741,0.917395624 C77.9320787,0.0214665788 113.248394,5.18264048 138.904897,18.967008 C148.229239,23.9766608 168.581183,35.9228973 166.132155,45.1887753 C164.825348,50.1330701 145.23725,55.4862994 128.57129,61.0442654 C114.004332,65.9022305 102.247031,71.1230124 99.3007971,73.6534064 C79.8998593,90.3160401 94.7724059,124.748188 89.216279,121.824982 C85.4617402,119.849633 82.4619414,121.398876 82.4619414,117.824982 C82.4619414,111.909255 82.9875175,100.106822 79.8340206,95.8249817 C76.085218,90.7348319 68.2196812,86.0681652 56.2374101,81.8249817 C46.8978441,76.9706385 42.0070863,73.3039718 41.5651367,70.8249817 C40.0296411,62.2120569 48.0544005,54.94236 51.9230406,53.1289686 C67.329716,45.9072238 98.1922276,39.8673063 99.3007971,30.3815627 C101.00718,15.7804836 67.9069143,10.3682003 1.42108547e-14,14.1447128 Z"
												id="Rectangle" opacity="0.749581473"></path>
										</g>
									</svg>
								</div>
								<div class="house-front house-front-left">
									<div class="window"></div>
									<div class="door"></div>
									<div class="house-front-shadow"></div>
									<div class="house-front-lights"></div>
								</div>
								<div class="house-front house-front-right">
									<div class="door door-right"></div>
									<div class="house-front-shadow"></div>
									<div class="house-front-lights"></div>
								</div>
								<div class="roof-right"></div>
							</div>
							<div class="snow-front"></div>
							<div class="snowman">
								<div class="snowman-shadow"></div>
							</div>
						</div>
						<div class="base">
							<input class="toggle-input" id="daylight" type="checkbox">
							<label class="toggle-btn" for="daylight"></label>
						</div>
					</div>
					<div class="overlay__inner">
						<!-- Title -->
						<h1 class="overlay__title">
							🎉Year End Party🎉
						</h1>
						<!-- Description -->
						<p class="overlay__description">
							기간: ✨12.10-12.11(1박2일)✨
							<br>
							장소: 주최자의 집🏚️
							<br>
							준비물: 교환식 선물🎁
						</p>
						<p style="font-size: 1.6rem">click on snowglobe🤍</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


<script src="js/util.js"></script>
<script src="js/common.js"></script>
<script src="https://unpkg.co/gsap@3/dist/gsap.min.js"></script>
<script src="js/library/swiper.js"></script>

<script>
	let canvas = document.getElementById("canvas");
	let context = canvas.getContext("2d");
	let resolution = window.devicePixelRatio || 1;

	let waves = [];
	let resized = false;

	let vw, vh;
	resizeCanvas();

	let wave1 = createWave(context, {
	amplitude: 50,
	duration: 4,
	/*fillStyle: "rgba(103,58,183,0.8)",*/
	fillStyle: "rgba(255,255,255,0.8)",
	frequency: 2.5,
	width: vw,
	height: vh,
	segments: 100,
	waveHeight: vh * 0.25
	});

	let wave2 = createWave(context, {
	amplitude: 100,
	duration: 2,
	/*fillStyle: "rgba(63,81,181,0.7)",*/
	fillStyle: "rgba(255,255,255,0.5)",
	frequency: 1.5,
	width: vw,
	height: vh,
	segments: 100,
	waveHeight: vh * 0.25
	});

	waves.push(wave1, wave2);

	gsap.to(waves, {
	duration: 10,
	waveHeight: vh / 2,
	ease: "sine.inOut",
	repeat: -1,
	repeatDelay: 1,
	yoyo: true
	});

	gsap.to(wave1, {
	duration: 6,
	amplitude: 10,
	ease: "sine.inOut",
	repeat: -1,
	yoyo: true
	});

	gsap.to(wave2, {
	duration: 7,
	amplitude: 25,
	ease: "sine.inOut",
	repeat: -1,
	yoyo: true
	});

	window.addEventListener("resize", () => {
	resized = true;
	});

	gsap.ticker.add(update);

	function update() {

	let len = waves.length;

	if (resized) {

		resizeCanvas();

		for (let i = 0; i < len; i++) {
		waves[i].resize(vw, vh);
		}

		resized = false;
	}

	context.clearRect(0, 0, vw, vh);  
	context.globalCompositeOperation = "soft-light";

	for (let i = 0; i < len; i++) {
		waves[i].draw();
	}
	}

	function createWave(context, options) {

	options = options || {};

	// API
	let wave = {

		// Properties
		amplitude: options.amplitude || 200,
		context: context,
		curviness: options.curviness || 0.75,
		duration: options.duration || 2,
		fillStyle: options.fillStyle || "rgba(33,150,243,1)",
		frequency: options.frequency || 4,
		height: options.height || 600,
		points: [],
		segments: options.segments || 100,
		tweens: [],
		waveHeight: options.waveHeight || 300,
		width: options.width || 800,
		x: options.x || 0,
		y: options.y || 0,

		// Methods
		init: init,
		resize: resize,
		draw: draw,
		kill: kill
	};

	init();

	function kill() {

		let tweens = wave.tweens;
		let len = tweens.length;

		for (let i = 0; i < len; i++) {
		tweens[i].kill();
		}

		tweens.length = 0;
		wave.points.length = 0;
	}

	function init() {

		kill();

		let segments = wave.segments;
		let interval = wave.width / segments;

		for (let i = 0; i <= segments; i++) {

		let norm = i / segments;
		let point = {
			x: wave.x + i * interval,
			y: 1
		};

		let tween = gsap.to(point, {
			duration: wave.duration,
			y: -1,
			repeat: -1,
			yoyo: true,
			ease: "sine.inOut"
		}).progress(norm * wave.frequency)

		wave.tweens.push(tween);
		wave.points.push(point);
		}    
	}

	function draw() {

		let points = wave.points;
		let len = points.length;

		let startY = wave.waveHeight;
		let height = wave.amplitude / 2;

		context.beginPath();    
		context.moveTo(points[0].x, startY + points[0].y * height);

		for (let i = 1; i < len; i++) {

		let point = points[i];
		context.lineTo(point.x, startY + point.y * height);
		}

		context.lineTo(wave.x + wave.width, wave.y + wave.height);
		context.lineTo(wave.x, wave.y + wave.height);
		context.closePath();
		context.fillStyle = wave.fillStyle;
		context.fill();
	}

	function resize(width, height) {

		wave.width = width;
		wave.height = height;

		let points = wave.points;
		let len = points.length;
		let interval = wave.width / wave.segments;

		for (let i = 0; i < len; i++) {

		let point = points[i];
		point.x = wave.x + i * interval;
		}
	}

	return wave;
	}

	function resizeCanvas() {

	vw = window.innerWidth;
	vh = window.innerHeight;

	canvas.width  = vw * resolution;
	canvas.height = vh * resolution;

	canvas.style.width  = vw + "px";
	canvas.style.height = vh + "px";

	context.scale(resolution, resolution);
	}


	setTimeout(function(){
		IV$('body').addClass('ready');
	}, 500);
	

	IV$('.toggle-input').on('change', function () {
			IV$('body').toggleClass('light-version');
		});
</script>
</body>

</html>
